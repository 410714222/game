<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的遊戲百科</title>
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; }
        body { font-family: sans-serif; margin: 0; background: #f4f4f4; }
        
        /* 導覽列與分類 */
        header { background: var(--primary); color: white; padding: 1rem; text-align: center; }
        .filter-bar { display: flex; justify-content: center; gap: 10px; padding: 20px; }
        button { padding: 8px 16px; cursor: pointer; border: none; border-radius: 4px; background: #ddd; transition: 0.3s; }
        button:hover { background: var(--accent); color: white; }

        /* 遊戲列表網格 */
        .game-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 20px; padding: 20px; max-width: 1200px; margin: auto;
        }

        /* 遊戲卡片 */
        .game-card { 
            background: white; border-radius: 8px; overflow: hidden; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; 
            transition: transform 0.2s;
        }
        .game-card:hover { transform: scale(1.03); }
        .game-card img { width: 100%; height: 160px; object-fit: cover; }
        .game-card-body { padding: 15px; }

        /* 詳情頁面佈局 */
        #detail-view { 
            display: none; max-width: 800px; margin: 20px auto; 
            background: white; padding: 30px; border-radius: 8px; 
        }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; margin: 20px 0; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
    </style>
</head>
<body>

<header><h1>遊戲百科庫</h1></header>

<div id="main-view">
    <div class="filter-bar">
        <button onclick="renderGames('全部')">全部</button>
        <button onclick="renderGames('動作')">動作</button>
        <button onclick="renderGames('冒險')">冒險</button>
        <button onclick="renderGames('競技')">競技</button>
    </div>
    <div id="game-list" class="game-grid"></div>
</div>

<div id="detail-view">
    <button onclick="goBack()">⬅ 返回列表</button>
    <h2 id="detail-title"></h2>
    <div class="video-container">
        <iframe id="detail-video" src="" allowfullscreen></iframe>
    </div>
    <p id="detail-desc" style="line-height: 1.6; color: #555;"></p>
</div>

<script>
    // 3. 模擬大資料庫 (後端應回傳此格式的 JSON)
    const games = [
        { id: 1, title: "艾爾登法環", category: "動作", img: "https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&w=400", video: "https://www.youtube.com/embed/AKXiKBnzp6U", desc: "法環碎裂，英雄再起。這是一款壯闊的黑暗幻想動作 RPG，探索交界地，挑戰半神。" },
        { id: 2, title: "極限競速：地平線", category: "競技", img: "https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=400", video: "https://www.youtube.com/embed/FYH9n37B7Yw", desc: "終極的地平線冒險正等著你！駕駛數百輛世界名車，在墨西哥充滿活力的開放世界中奔馳。" },
        { id: 3, title: "荒野大鏢客 2", category: "冒險", img: "https://images.unsplash.com/photo-1552820728-8b83bb6b773f?auto=format&fit=crop&w=400", video: "https://www.youtube.com/embed/gmA6MrX81z4", desc: "在 1899 年的美國，幫派份子亞瑟·摩根在文明進步的浪潮中，掙扎於法律與忠誠之間。" }
    ];

    // 渲染遊戲卡片到前端
    function renderGames(filter) {
        const list = document.getElementById('game-list');
        list.innerHTML = "";
        
        const filteredGames = (filter === '全部') ? games : games.filter(g => g.category === filter);
        
        filteredGames.forEach(game => {
            list.innerHTML += `
                <div class="game-card" onclick="showDetail(${game.id})">
                    <img src="${game.img}" alt="${game.title}">
                    <div class="game-card-body">
                        <h3>${game.title}</h3>
                        <small>分類：${game.category}</small>
                    </div>
                </div>
            `;
        });
    }

    // 顯示詳情頁 (點擊圖片進去)
    function showDetail(id) {
        const game = games.find(g => g.id === id);
        document.getElementById('detail-title').innerText = game.title;
        document.getElementById('detail-desc').innerText = game.desc;
        document.getElementById('detail-video').src = game.video;

        document.getElementById('main-view').style.display = 'none';
        document.getElementById('detail-view').style.display = 'block';
        window.scrollTo(0, 0);
    }

    // 返回列表
    function goBack() {
        document.getElementById('main-view').style.display = 'block';
        document.getElementById('detail-view').style.display = 'none';
        document.getElementById('detail-video').src = ""; // 停止影片播放
    }

    // 初始化載入
    renderGames('全部');
</script>

</body>
</html>
